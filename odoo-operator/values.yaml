# Default values for odoo-operator.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Operator deployment configuration
operator:
  # Operator container image
  image: registry.bemade.org/bemade/odoo-operator

  # Resource limits and requests for the operator
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi
  # Node placement
  affinity: {}
  tolerations: []
  annotations: {}

# Image pull secrets for private registries
imagePullSecrets:
  - domain: registry.bemade.org
    username: username
    password: password


# Default configuration for Odoo instances
defaults:
  # Default Odoo image to use
  odooImage: odoo:18.0
  # Default storage class for PVCs
  storageClass: "standard"
  # Default resource requests/limits for Odoo pods
  resources:
    requests:
      cpu: 400m
      memory: 256Mi
    limits:
      cpu: 2000m
      memory: 4Gi
  # Node placement
  affinity: {}
  tolerations: []
  ingressClass: ""

# Odoo Manager ServiceAccount (for external Odoo instances to manage the cluster)
odooManager:
  # Enable creation of ServiceAccount and RBAC for Odoo manager
  enabled: false
  # ServiceAccount name
  serviceAccountName: "odoo-manager"

# Database configuration
# PostgreSQL clusters available for OdooInstances to use.
# Each cluster entry contains host, port, adminUser, and adminPassword.
# The "default" cluster is used when an OdooInstance doesn't specify a cluster.
postgresClusters:
  default:
    host: "postgres"
    port: 5432
    adminUser: "postgres"
    adminPassword: ""  # Set via --set or values override

# Legacy database configuration (deprecated, use postgresClusters instead)
# These values are kept for backwards compatibility with existing deployments.
# New deployments should use postgresClusters above instead.
# database:
#   host: "postgres"
#   port: 5432
#   adminUser: "postgres"
#   adminPasswordSecret:
#     name: "postgres-admin"
#     key: "password"
