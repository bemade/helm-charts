# Default values for odoo-operator.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

# Operator deployment configuration
operator:
  # Operator container image
  image: registry.bemade.org/bemade/odoo-operator

  # Resource limits and requests for the operator
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 250m
      memory: 256Mi
  # Node placement
  affinity: {}
  tolerations: []
  annotations: {}

# Image pull secrets for private registries
imagePullSecrets:
  - domain: registry.bemade.org
    username: username
    password: password


# Default configuration for Odoo instances
defaults:
  # Default Odoo image to use
  odooImage: odoo:18.0
  # Default storage class for PVCs
  storageClass: "standard"
  # Default resource requests/limits for Odoo pods
  resources:
    requests:
      cpu: 400m
      memory: 256Mi
    limits:
      cpu: 2000m
      memory: 4Gi
  # Node placement
  affinity: {}
  tolerations: []
  ingressClass: ""

# Odoo Manager ServiceAccount (for external Odoo instances to manage the cluster)
odooManager:
  # Enable creation of ServiceAccount and RBAC for Odoo manager
  enabled: false
  # ServiceAccount name
  serviceAccountName: "odoo-manager"

# PostgreSQL cluster configuration
# Option 1: Reference an existing secret (recommended for production)
# The secret must contain a clusters.yaml key with the cluster configuration.
# postgresClustersSecretRef:
#   name: "my-postgres-clusters-secret"
#
# Option 2: Define clusters inline (a secret will be created for you)
# Exactly one cluster must have 'default: true' - this is used for instances
# that don't specify a cluster, and for migrating existing instances.
#
# Example configuration:
# postgresClusters:
#   main:
#     host: "postgres.postgres.svc.cluster.local"
#     port: 5432
#     adminUser: "postgres"
#     adminPassword: "secret"
#     default: true
#   analytics:
#     host: "analytics-db.database.svc.cluster.local"
#     port: 5432
#     adminUser: "postgres"
#     adminPassword: "secret"
#     default: false
postgresClusters: {}
postgresClustersSecretRef: {}
